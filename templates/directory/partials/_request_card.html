<div data-card class="bg-white rounded-2xl shadow-md p-5 ring-1 ring-gray-100 hover:shadow-lg transition hover:-translate-y-0.5">
  <div class="flex items-start justify-between">
    <div>
      <a href="{{ request_obj.get_absolute_url }}" class="font-semibold text-lg hover:underline">{{ request_obj.title }}</a>
      <div class="text-sm text-gray-600 mt-0.5">{{ request_obj.skill.name }} â€¢ {{ request_obj.user.username }}</div>
    </div>
    <span class="text-sm px-2 py-1 rounded-full {% if request_obj.is_active %}bg-amber-100 text-amber-700{% else %}bg-gray-100 text-gray-600{% endif %}">{{ request_obj.is_active|yesno:'Active,Inactive' }}</span>
  </div>
  <p class="mt-3 text-gray-700 line-clamp-3">{{ request_obj.description|truncatechars:160 }}</p>
  <div class="mt-4 flex items-center justify-between text-sm text-gray-700">
    <span>{{ request_obj.when }}</span>
    <span>Needs: {{ request_obj.hours_needed }} h</span>
  </div>
  {% if request.user == request_obj.user %}
  <div class="mt-4 flex gap-2">
    <a href="/requests/{{ request_obj.id }}/edit/" class="px-3 py-1.5 rounded-lg border hover:bg-gray-50 transition">Edit</a>
    <button hx-post="/requests/{{ request_obj.id }}/toggle/" hx-target="closest [data-card]" hx-swap="outerHTML" class="px-3 py-1.5 rounded-lg border hover:bg-gray-50 transition">Toggle</button>
  </div>
  {% endif %}
</div>

